insert into tutors (full_name, email) values
('Иванов Алексей Петрович', 'ivanov.ap@university.ru'),
('Петрова Мария Сергеевна', 'petrova.ms@university.ru'),
('Сидоров Дмитрий Владимирович', 'sidorov.dv@university.ru'),
('Кузнецова Анна Игоревна', 'kuznetsova.ai@university.ru'),
('Васильев Павел Олегович', 'vasilev.po@university.ru'),
('Николаева Екатерина Викторовна', 'nikolaeva.ev@university.ru'),
('Морозов Артем Александрович', 'morozov.aa@university.ru'),
('Орлова Ольга Дмитриевна', 'orlova.od@university.ru'),
('Лебедев Максим Ильич', 'lebedev.mi@university.ru'),
('Соловьева Виктория Павловна', 'solovieva.vp@university.ru'),
('Волков Сергей Николаевич', 'volkov.sn@university.ru'),
('Зайцева Алина Романовна', 'zaitseva.ar@university.ru'),
('Павлов Иван Кириллович', 'pavlov.ik@university.ru'),
('Семенова Дарья Андреевна', 'semenova.da@university.ru'),
('Громов Андрей Борисович', 'gromov.ab@university.ru'),
('Федорова Ксения Евгеньевна', 'fedorova.ke@university.ru'),
('Белов Константин Витальевич', 'belov.kv@university.ru'),
('Медведева Ирина Олеговна', 'medvedeva.io@university.ru'),
('Козлов Михаил Юрьевич', 'kozlov.my@university.ru'),
('Новикова Татьяна Сергеевна', 'novikova.ts@university.ru');

insert into questions (question_text, tutor_id, is_edit) values
('Как настроить соединение с PostgreSQL в Golang?', 1, false),
('В чем разница между INNER JOIN и LEFT JOIN?', 2, false),
('Как работает алгоритм быстрой сортировки?', 3, true),
('Какие лучшие практики для написания чистого кода?', 4, false),
('Как рассчитать сложность алгоритма O(n)?', 5, false),
('Какие методы защиты от SQL-инъекций существуют?', 6, true),
('Как создать Dockerfile для Go приложения?', 7, false),
('В чем разница между unit и integration тестами?', 8, false),
('Как спроектировать REST API для системы вопросов и ответов?', 9, true),
('Какие хуки React наиболее часто используются?', 10, false),
('Как работать с миграциями базы данных?', 11, false),
('Что такое индексы в базах данных и зачем они нужны?', 12, true),
('Как реализовать аутентификацию в веб-приложении?', 13, false),
('Какие структуры данных наиболее эффективны для поиска?', 14, false),
('Как настроить CI/CD пайплайн?', 15, true),
('В чем преимущества использования ORM?', 16, false),
('Как отлаживать производительность приложения?', 17, false),
('Какие паттерны проектирования использовать в микросервисах?', 18, true),
('Как работать с транзакциями в PostgreSQL?', 19, false),
('Какие инструменты для мониторинга приложений рекомендуются?', 20, false);

insert into answers (answer_text, tutor_id, question_id, is_edit) values
('для подключения к postgresql в golang используйте пакет database/sql с драйвером pq или pgx. пример: db, err := sql.open("postgres", "connection string")', 2, 1, false),
('inner join возвращает только совпадающие строки из обеих таблиц, а left join возвращает все строки из левой таблицы и совпадающие из правой, с null если нет совпадений', 3, 2, false),
('алгоритм быстрой сортировки работает по принципу "разделяй и властвуй": выбирается опорный элемент, массив разбивается на элементы меньше и больше опорного, процесс рекурсивно повторяется', 4, 3, true),
('лучшие практики чистого кода: понятные имена переменных, короткие функции, отсутствие дублирования кода, единая ответственность функций, комментарии только для сложной логики', 5, 4, false),
('сложность o(n) означает, что время выполнения алгоритма линейно зависит от размера входных данных. рассчитывается по количеству операций в худшем случае', 6, 5, false),
('методы защиты от sql-инъекций: использование подготовленных запросов (prepared statements), валидация входных данных, ограничение прав доступа бд, экранирование специальных символов', 7, 6, true),
('dockerfile для go приложения: from golang:alpine, workdir /app, copy go.mod, run go mod download, copy ., run go build, cmd ["./app"]', 8, 7, false),
('unit тесты проверяют отдельные компоненты изолированно, а integration тесты проверяют взаимодействие между несколькими компонентами системы', 9, 8, false),
('rest api для системы q&a: get /questions, post /questions, get /questions/{id}, put /questions/{id}, get /questions/{id}/answers, post /answers', 10, 9, true),
('наиболее используемые хуки react: usestate для состояния, useeffect для побочных эффектов, usecontext для контекста, usememo для мемоизации', 11, 10, false),
('миграции бд управляются через инструменты вроде goose, golang-migrate. каждая миграция - это sql файл с up и down командами для применения и отката изменений', 12, 11, false),
('индексы в бд - это структуры данных, ускоряющие поиск. они работают как оглавление в книге, но замедляют операции вставки и обновления из-за поддержки индекса', 13, 12, true),
('аутентификация реализуется через jwt токены, сессии, oauth2. в golang популярны библиотеки gin-jwt, golang-jwt, auth0', 14, 13, false),
('для поиска эффективны хэш-таблицы (o(1)), бинарные деревья поиска (o(log n)), b-деревья в базах данных, префиксные деревья (trie)', 15, 14, false),
('ci/cd пайплайн настраивается в gitlab ci, github actions, jenkins. основные этапы: сборка, тестирование, анализ кода, деплой в среду', 16, 15, true),
('преимущества orm: абстракция от sql, безопасность от инъекций, миграции, валидация. недостатки: сложные запросы могут быть менее эффективны', 17, 16, false),
('для отладки производительности: профилирование cpu и памяти, анализ slow queries в бд, мониторинг с prometheus, использование pprof в golang', 18, 17, false),
('паттерны для микросервисов: api gateway, circuit breaker, service discovery, event sourcing, cqrs, saga для распределенных транзакций', 19, 18, true),
('транзакции в postgresql: begin для начала, commit для подтверждения, rollback для отката. используйте isolation levels для контроля параллелизма', 20, 19, false),
('инструменты мониторинга: prometheus + grafana для метрик, jaeger для трассировки, elk stack для логов, datadog, new relic', 1, 20, false);

insert into tags (tutor_id, tag) values
(1, 'golang'),
(1, 'postgresql'),
(2, 'sql'),
(2, 'join'),
(3, 'алгоритмы'),
(3, 'сортировка'),
(4, 'best practices'),
(4, 'чистый код'),
(5, 'сложность'),
(5, 'big o'),
(6, 'безопасность'),
(6, 'sql инъекции'),
(7, 'docker'),
(7, 'devops'),
(8, 'тестирование'),
(8, 'unit tests'),
(9, 'api'),
(9, 'rest'),
(10, 'react'),
(10, 'frontend'),
(11, 'миграции'),
(11, 'база данных'),
(12, 'индексы'),
(12, 'производительность'),
(13, 'аутентификация'),
(13, 'web security'),
(14, 'структуры данных'),
(14, 'поиск'),
(15, 'ci/cd'),
(15, 'deployment'),
(16, 'orm'),
(16, 'database'),
(17, 'профилирование'),
(17, 'debugging'),
(18, 'микросервисы'),
(18, 'паттерны'),
(19, 'транзакции'),
(19, 'acid'),
(20, 'мониторинг'),
(20, 'observability');

insert into questions_tags (question_id, tag_id) values
(1, 1),
(1, 2),
(1, 13),
(2, 3),
(2, 4),
(3, 5),
(3, 6),
(4, 7),
(4, 8),
(5, 9),
(5, 10),
(6, 11),
(6, 12),
(6, 3),
(7, 13),
(7, 14),
(8, 15),
(8, 16),
(9, 17),
(9, 18),
(10, 19),
(10, 20),
(11, 21),
(11, 22),
(11, 3),
(12, 23),
(12, 24),
(12, 3),
(12, 22),
(13, 25),
(13, 26),
(14, 27),
(14, 28),
(15, 29),
(15, 30),
(15, 14),
(16, 31),
(16, 32),
(16, 22),
(17, 33),
(17, 34),
(18, 35),
(18, 36),
(19, 37),
(19, 38),
(19, 2),
(20, 39),
(20, 40);


insert into question_versions (question_id, question_text, tutor_id, version_number, is_delete, delete_by_tutor) values
(3, 'как работает алгоритм быстрой сортировки и какая у него сложность?', 3, 1, false, NULL),
(3, 'как работает алгоритм быстрой сортировки? объясните принцип работы и примеры', 4, 2, false, NULL),
(6, 'какие методы защиты от sql-инъекций существуют?', 6, 1, false, NULL),
(6, 'какие методы защиты от sql-инъекций существуют в веб-приложениях?', 7, 2, false, NULL),
(9, 'как спроектировать rest api для системы вопросов и ответов?', 9, 1, false, NULL),
(9, 'как спроектировать rest api для системы q&a с аутентификацией?', 10, 2, false, NULL),
(12, 'что такое индексы в базах данных и зачем они нужны?', 12, 1, false, NULL),
(12, 'что такое индексы в бд и как они улучшают производительность запросов?', 13, 2, false, NULL),
(15, 'как настроить ci/cd пайплайн?', 15, 1, false, NULL),
(15, 'как настроить ci/cd пайплайн для golang приложения?', 16, 2, false, NULL),
(18, 'какие паттерны проектирования использовать в микросервисах?', 18, 1, false, NULL),
(18, 'какие паттерны проектирования использовать в микросервисной архитектуре?', 19, 2, false, NULL);

insert into answer_versions (answer_id, answer_text, tutor_id, question_id, version_number, is_delete, delete_by_tutor) values
(3, 'алгоритм быстрой сортировки работает по принципу "разделяй и властвуй": выбирается опорный элемент, массив разбивается на элементы меньше и больше опорного, процесс рекурсивно повторяется для подмассивов', 4, 3, 1, false, NULL),
(3, 'быстрая сортировка (quicksort) - это эффективный алгоритм сортировки со средней сложностью o(n log n). принцип: выбор опорного элемента, разделение массива и рекурсивная сортировка частей', 5, 3, 2, false, NULL),
(6, 'методы защиты от sql-инъекций: использование подготовленных запросов (prepared statements), валидация входных данных, ограничение прав доступа бд, экранирование специальных символов', 7, 6, 1, false, NULL),
(6, 'защита от sql-инъекций: параметризованные запросы, stored procedures, whitelist валидация, минимальные привилегии бд, web application firewall', 8, 6, 2, false, NULL),
(9, 'rest api для системы q&a: get /questions, post /questions, get /questions/{id}, put /questions/{id}, get /questions/{id}/answers, post /answers', 10, 9, 1, false, NULL),
(9, 'api дизайн для q&a системы: get /questions (список), post /questions (создать), get /questions/{id} (детали), patch /questions/{id} (обновить), get /questions/{id}/answers (ответы), post /answers (добавить ответ)', 11, 9, 2, false, NULL),
(12, 'индексы в бд - это структуры данных, ускоряющие поиск. они работают как оглавление в книге, но замедляют операции вставки и обновления из-за поддержки индекса', 13, 12, 1, false, NULL),
(12, 'индексы в базах данных создают дополнительные структуры (b-деревья, хэш-индексы) для ускорения поиска. trade-off: ускорение read операций за счет замедления write операций', 14, 12, 2, false, NULL),
(15, 'ci/cd пайплайн настраивается в gitlab ci, github actions, jenkins. основные этапы: сборка, тестирование, анализ кода, деплой в среду', 16, 15, 1, false, NULL),
(15, 'ci/cd процесс: build → test → security scan → deploy to staging → integration tests → deploy to production. инструменты: github actions, gitlab ci, circleci', 17, 15, 2, false, NULL),
(18, 'паттерны для микросервисов: api gateway, circuit breaker, service discovery, event sourcing, cqrs, saga для распределенных транзакций', 19, 18, 1, false, NULL),
(18, 'микросервисные паттерны: api gateway (единая точка входа), service mesh (traffic management), event-driven architecture, database per service, health checks', 20, 18, 2, false, NULL);